---
layout: ../../layouts/post.astro
title: Задание №5
description: Заключительное задание с благодарностью за ознакомление с результатами тестового задания и контактной информацией для обратной связи.
---

### Мини-техническое задание
Мы хотим добавить на сайт блок «Отзывы клиентов» с фото питомцев. Нужно, чтобы админ мог легко добавлять новые отзывы (фото, имя питомца, текст) через админку WordPress.

Задача:
Опишите, как бы вы это реализовали:
* использовать готовый плагин или Elementor-шаблон,
* какие поля должны быть в админке,
* какие требования к отображению на мобильной версии.

---

## Коротко — рекомендованный путь

**Рекомендация (практичный и масштабируемый):** создать **Custom Post Type** `testimonial` + поля через **ACF (Advanced Custom Fields)** или **JetEngine**, и рендерить карточки через **Elementor Pro — Loop Template** / Dynamic Tags.
Плюс: оставить вариант «plugin only» (если нужно быстро) — **Strong Testimonials** или **WP Testimonials** (быстрее, но менее гибко по верстке/интеграции с Elementor).

---

## Варианты реализации (плюсы/минусы)

1. **CPT + ACF (или JetEngine) + Elementor Pro (loop template)** — *рекомендую*

   * Плюсы: полная гибкость в верстке (Elementor), легко расширять поля, фильтры, кастомная логика, SEO-дружелюбно.
   * Минусы: нужен ACF Pro (или JetEngine лицензия) и Elementor Pro для максимального удобства.

2. **Готовый плагин отзывов (Strong Testimonials / WP Testimonials)**

   * Плюсы: быстро, есть встроенные шорткоды/виджеты и фильтры, часто — галереи/карусели.
   * Минусы: ограниченная кастомизация внешнего вида, интеграция с Elementor может требовать «обёрток» или дополнительных CSS.

3. **JetEngine (Crocoblock) — CPT + Listing Grid через Elementor**

   * Плюсы: мощный набор (CPT, repeater, listing template) — похож на ACF+Elementor, подходит если вы уже используете Crocoblock.
   * Минусы: лицензия Crocoblock.

---

## Какие поля должны быть в админке (CPT `testimonial`)

Ниже — рекомендуемые поля, тип, краткое описание и пример meta-ключа (если нужно программно):

1. **Заголовок записи / title** — обычно используется как `Имя питомца` (WP `post_title`).
   * meta: `post_title`

2. **Текст отзыва** — `post_content` (основное поле).
   * meta: `post_content`

3. **Фото питомца (основное)** — тип: изображение (single image / featured image).
   * meta: `featured_image` (WP featured_image)

4. **Галерея фото питомца (опционально)** — repeater / gallery (несколько фото).
   * meta: `pet_gallery` (array of attachment IDs)

5. **Имя владельца (опционально)** — текст.
   * meta: `owner_name`

6. **Порода / тип питомца** — select / taxonomy `pet_type` (cat, dog, other) — полезно для фильтра.
   * taxonomy: `pet_type`

7. **Рейтинг (0–5)** — number / star (опционально).
   * meta: `rating` (int)

8. **Дата отзыва / дата публикации** — WP `post_date` (и поле `display_date` если требуется кастомная дата).
   * meta: `display_date`

9. **Продукт (связь с товаром WooCommerce)** — post_object / relationship (опционально: к product_id).
   * meta: `related_product_id`

10. **Источник / согласие на публикацию** — checkbox / radio: `consent_photo_use` (обязательно при ПДн/законе) — запись согласия для логов.
    * meta: `consent_photo_use` (true/yes), `consent_timestamp`

11. **Статус модерации** — WP post_status (`draft`, `pending`, `publish`) / кастомное поле `moderation_status`.
    * meta: `moderation_status`

12. **UTM / источник (опционально)** — строка.
    * meta: `source`

13. **Alt-текст для фото** — текст (важно для доступности/SEO).
    * meta: stored in attachment alt field

14. **Короткая цитата / анонс (excerpt)** — WP `post_excerpt` — используется в карточке.
    * meta: `post_excerpt`

Дополнительно: лог действий (who added, IP, timestamp) — для будущих проверок/юридических требований.

---

## Админ UX (рекомендации)

* Сделать мета-блок ACF с «preview» (миниатюра) — чтобы админ видел, как карточка выглядит.
* Быстрая форма импорта (CSV import) + поддержка импорта attachment URL → attachment ID.
* Возможность drag’n’drop сортировки (плагин Simple Page Ordering или ACF sortable) или поле «priority» для ручного порядка.
* Видимость статуса публикации на списке CPT (columns: Фото, Имя питомца, Срок, Статус, Продукт).

---

## Отображение: шаблон в Elementor (Loop Item)

* Создать **Listing Grid / Loop Template** в Elementor Pro, динамические поля: изображение, имя питомца, короткий текст, рейтинг, дата, CTA «Посмотреть отзыв» (modal).
* Поддержать 2 варианта рендеринга: *Grid* (3/2/1 колонка) и *Carousel* (слайдер для hero блока).

---

## Требования к отображению на мобильной версии (детально)

1. **Адаптивная сетка**

   * Desktop: 3–4 колонки (в зависимости от ширины)
   * Tablet: 2 колонки
   * Mobile: 1 колонка (либо 1 колонка с горизонтальным слайдером/каруселью)
   * Причина: читабельность, мобильные пользователи предпочитают крупные карточки.

2. **Изображения**

   * Соотношение сторон: **1:1 (square)** или **4:3** — выбирайте одно для всех карточек, чтобы сетка выглядела ровной.
   * Минимальный размер мини-карты на мобильных: 120×120 px для thumb в карточке; в списке — 280×180 (retina 2x соответственно).
   * Использовать **обрезку (object-fit: cover)**, центрирование лица питомца — либо вручную в админке, либо через croppping при загрузке.
   * Поддерживать WebP + srcset (2x) и lazy-loading (loading="lazy").

3. **Текст**

   * Показывать короткую цитату (excerpt) в карточке; оставлять «Read more» / modal для полного текста.
   * Ограничение: 2–3 строки в карточке (css: line-clamp) с «читать далее».

4. **Карусель / слайдер**

   * Если используете слайдер на мобиле: поддерживать **swipe**, показывать 1 карточку за раз, отключить автоплей по умолчанию (опция: включить с контролем).
   * Навигация: точки + стрелки (стрелки скрывать на мобиле, оставить точки).

5. **Тач-зоны и кнопки**

   * Кнопки/ссылки должны быть не меньше **44×44 px** (рекомендация Apple).
   * Расстояние между карточками/кнопками — минимум 8–12 px.

6. **Доступность**

   * Alt-текст для всех изображений (динамически брать из поля или «Фото питомца — {pet_name}»).
   * ARIA roles для карусели/контрола и фокусируемые элементы (кнопки «читать», «поделиться»).

7. **Производительность**

   * На мобиле — lazy load + CDN; ограничить количество видимых изображений в initial view (например, 4).
   * Предзагрузка первого изображения карусели (rel=preload) для LCP.

8. **Fallbacks**

   * Если фото нет — показывать дефолтный фон/placeholder с контрастной иконкой питомца.

---

## UI/UX детали карточки (мобильная)

* Крупное фото сверху, под ним:

  * Имя питомца (bold)
  * Короткая цитата (2 строки)
  * Meta: порода · дата · рейтинг (иконки)
  * CTA: «Читать полностью» (link open modal) или «Смотреть фото» (gallery modal)
* Вариант «hero» (на главной): слайдер с full-width изображениями и overlay с именем/текстом.

---

## Чек-лист реализации (технический)

1. Создать CPT `testimonial` (register_post_type) или через CPT UI.
2. Создать ACF Field Group (или JetEngine) с полями, перечисленными выше.
3. Добавить загрузку изображений с кропом/preview; alt автоматически проставляется.
4. Сделать Listing/Loop Template в Elementor Pro (desktop/tablet/mobile layout).
5. Настроить стили для mobile: 1 колонка, line-clamp, touch targets.
6. Добавить модуль модерации: новые отзывы — `pending` до проверки.
7. Подготовить импорт CSV (если потребуется).
8. Оптимизировать изображения (WebP, srcset) + lazy loading.
9. QA: проверить на iOS/Android, разные браузеры, включая RTL если нужно.
10. Документировать: как добавлять отзыв, требования к фото (разрешение/aspect), чеклист модератора.

---

## Acceptance criteria (KPI)

* Админ может добавить отзыв за < 60 сек (картинка + имя + текст).
* Новые отзывы по умолчанию попадают в `pending` и не отображаются публично до публикации.
* На мобильной странице блок отображается в 1 колонку, без горизонтального сдвига, изображения загружаются лениво.
* Alt-текст присутствует у каждого изображения.
* При отсутствии фото — показывается placeholder.
* Среднее время загрузки страницы (включая блок отзывов) не увеличилось значительно (Lighthouse: не ухудшился LCP на > 10%).

---

## Рекомендации по изображениям (админ-инструктаж)

* Рекомендуемый размер фото: **1200×900 px** (4:3) или **1000×1000 px** (1:1).
* Максимальный размер файла: 2–3 MB (рекомендуется 1 MB).
* В админке — подсказка: «Загрузите фото питомца, где лицо в центре; поддерживаемые форматы: JPG, PNG, WebP».

---

## Быстрые plugin-рекоммендации

* **ACF Pro + Elementor Pro** — если нужна гибкая кастомизация и быстрый красивый output.
* **JetEngine (Crocoblock)** — если уже используете Crocoblock; всё в одном (CPT, repeater, listing).
* **CPT UI** — для создания CPT (если не хочется писать код).
* **Strong Testimonials** — если хочется plugin-only решение быстро (шорткоды, виджеты, шаблоны).
* Доп: **Smush / ShortPixel** — оптимизация изображений; **WP-Rocket / LiteSpeed Cache** — кеш/предзагрузка.

---


## Заключение

Спасибо что ознакомились с результатом моей работы по выполнению тестового-задания.

**Буду ждать от Вас обратную связь:**
#### Email: [marked1218117@gmail.com](mailto:marked1218117@gmail.com)
#### Telegram: [@spmerkulov](https://t.me/spmerkulov)

---

<div style="text-align: center; margin: 2rem 0; color: #666; font-style: italic;">
  С уважением,<br>
  Сергей Меркулов
</div>

